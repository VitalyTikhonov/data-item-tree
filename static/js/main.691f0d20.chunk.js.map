{"version":3,"sources":["app/userDataSlice.js","utils.js","data/constants.js","components/User/User.js","components/UsersDashboard/UsersDashboard.js","App.js","app/store.js","index.js"],"names":["usersDataSlice","createSlice","name","initialState","value","reducers","setUsersData","state","action","payload","actions","selectUsersData","usersData","verbalizeBoolean","boolean","blankUser","id","email","gender","firstName","lastName","category","isEmailVerified","isBanned","requestedDeletion","phone","doctorNotes","categories","caption","User","dispatch","useDispatch","useSelector","requestedId","useParams","url","useRouteMatch","user","find","item","handleChange","target","fieldId","newUsersData","map","className","exact","to","activeClassName","path","onChange","getUid","UsersDashboard","displayedCategoryId","dataToRender","filter","App","useEffect","data","htmlFor","type","hidden","file","files","fileReader","FileReader","onload","e","JSON","parse","result","readAsText","onClick","filename","Blob","window","navigator","msSaveOrOpenBlob","a","document","createElement","URL","createObjectURL","href","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","stringify","store","configureStore","reducer","userDataReducer","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.691f0d20.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n  value: [],\r\n};\r\n\r\nexport const usersDataSlice = createSlice({\r\n  name: 'usersData',\r\n  initialState,\r\n  reducers: {\r\n    setUsersData: (state, action) => {\r\n      state.value = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setUsersData } = usersDataSlice.actions;\r\nexport const selectUsersData = (state) => state.usersData.value;\r\nexport default usersDataSlice.reducer;\r\n","export function getRandomNumber(min, max) {\r\n  const randomNumber = min - 0.5 + Math.random() * (max - min + 1);\r\n  return Math.round(randomNumber);\r\n}\r\n\r\nexport function download(data, filename = 'data.json', type = 'application/json') {\r\n  // https://stackoverflow.com/questions/13405129/javascript-create-and-save-file\r\n  const file = new Blob([data], { type: type });\r\n  if (window.navigator.msSaveOrOpenBlob) // IE10+\r\n    window.navigator.msSaveOrOpenBlob(file, filename);\r\n  else { // Others\r\n    const a = document.createElement(\"a\")\r\n    const url = URL.createObjectURL(file);\r\n    a.href = url;\r\n    a.download = filename;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    setTimeout(function () {\r\n      document.body.removeChild(a);\r\n      window.URL.revokeObjectURL(url);\r\n    }, 0);\r\n  }\r\n}\r\n\r\nexport function getRandomArrayMember(array) {\r\n  return array[getRandomNumber(0, array.length - 1)]\r\n}\r\n\r\nexport function verbalizeBoolean(boolean) {\r\n  return boolean ? \"да\" : \"нет\"\r\n}\r\n\r\nexport function saveToLS(data, name = \"users\") {\r\n  localStorage.setItem(name, JSON.stringify(data))\r\n}\r\n\r\nexport function getFromLS(name = \"users\") {\r\n  return JSON.parse(localStorage.getItem(name))\r\n}","export const blankUser = {\r\n  id: \"Нет данных\",\r\n  email: \"Нет данных\",\r\n  gender: \"Нет данных\",\r\n  firstName: \"Нет данных\",\r\n  lastName: \"Нет данных\",\r\n  category: \"Нет данных\",\r\n  isEmailVerified: \"Нет данных\",\r\n  isBanned: \"Нет данных\",\r\n  requestedDeletion: \"Нет данных\",\r\n  phone: \"Нет данных\",\r\n  doctorNotes: \"Нет данных\",\r\n}\r\n\r\nexport const categories = [\r\n  { caption: \"Администраторы\", id: \"admins\" },\r\n  { caption: \"Врачи\", id: \"doctors\" },\r\n  { caption: \"Пациенты\", id: \"patients\" },\r\n  { caption: \"Посетители\", id: \"visitors\" },\r\n]\r\n","import React from 'react';\r\nimport './User.scss';\r\nimport { Route, Switch, NavLink, useRouteMatch, useParams } from \"react-router-dom\";\r\nimport { verbalizeBoolean } from '../../utils';\r\nimport { v4 as getUid } from 'uuid';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUsersData, selectUsersData } from '../../app/userDataSlice';\r\nimport { categories, blankUser } from '../../data/constants';\r\n\r\nexport function User() {\r\n  const dispatch = useDispatch()\r\n  const usersData = useSelector(selectUsersData)\r\n\r\n  const requestedId = useParams().id\r\n  const { url } = useRouteMatch();\r\n\r\n  const user = usersData.find((item) => item.id === requestedId) || blankUser\r\n  const {\r\n    id,\r\n    email,\r\n    gender,\r\n    firstName,\r\n    lastName,\r\n    category,\r\n    isEmailVerified,\r\n    isBanned,\r\n    requestedDeletion,\r\n    phone,\r\n    doctorNotes,\r\n  } = user\r\n\r\n  function handleChange({ target }) {\r\n    const fieldId = target.id\r\n    let { value } = target\r\n    if (fieldId === \"category\") {\r\n      value = categories.find((item) => item.id === value)\r\n    }\r\n    const newUsersData = usersData.map((item) => item.id === id ? { ...user, [fieldId]: value } : item)\r\n    dispatch(setUsersData(newUsersData))\r\n  }\r\n\r\n  return (\r\n    <div className=\"user\" >\r\n      {user ? (\r\n        <>\r\n          <h3 className=\"user__headline\" >{firstName} {lastName}</h3>\r\n\r\n          <ul className=\"user__tabs list-unstyling\" >\r\n            <li className=\"user__tab\" >\r\n              <NavLink\r\n                className=\"user__tab-link link-unstyling\"\r\n                exact to={`${url}`}\r\n                activeClassName=\"user__tab-link_active\"\r\n              >\r\n                Личные данные\r\n              </NavLink>\r\n            </li>\r\n\r\n            <li className=\"user__tab\" >\r\n              <NavLink\r\n                className=\"user__tab-link link-unstyling\"\r\n                to={`${url}/meta`}\r\n                activeClassName=\"user__tab-link_active\"\r\n              >\r\n                Данные аккаунта\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n\r\n          <table className=\"user__data\" >\r\n            <tbody >\r\n              <Switch >\r\n                <Route exact path={`${url}`} >\r\n                  <tr ><th className=\"user__row-header\" >Имя</th><td className=\"user__cell\" >{firstName}</td></tr>\r\n                  <tr ><th className=\"user__row-header\" >Фамилия</th><td className=\"user__cell\" >{lastName}</td></tr>\r\n                  <tr ><th className=\"user__row-header\" >Пол</th><td className=\"user__cell\" >{gender}</td></tr>\r\n                  <tr ><th className=\"user__row-header\" >Эл. почта</th><td className=\"user__cell\" >{email}</td></tr>\r\n                  <tr ><th className=\"user__row-header\" >Телефон</th><td className=\"user__cell\" >{phone}</td></tr>\r\n                  <tr >\r\n                    <th className=\"user__row-header\" >Примечания</th>\r\n\r\n                    <td className=\"user__cell\" >\r\n                      <textarea className=\"user__text-area\" id=\"doctorNotes\" onChange={handleChange} value={doctorNotes} />\r\n                    </td>\r\n                  </tr>\r\n                </Route>\r\n\r\n                <Route path={`${url}/meta`} >\r\n                  <tr ><th className=\"user__row-header\" >Идентификатор</th><td className=\"user__cell\" >{id}</td></tr>\r\n                  <tr >\r\n                    <th className=\"user__row-header\" >Уровень доступа</th>\r\n\r\n                    <td className=\"user__cell\" >\r\n                      <select className=\"user__dropdown\" id=\"category\" onChange={handleChange} value={category.id} >\r\n                        {categories.map((item) => <option value={item.id} key={getUid()} >{item.caption}</option>)}\r\n                      </select>\r\n                    </td>\r\n                  </tr>\r\n                  <tr ><th className=\"user__row-header\" >Эл. почта подтверждена?</th><td className=\"user__cell\" >{verbalizeBoolean(isEmailVerified)}</td></tr>\r\n                  <tr ><th className=\"user__row-header\" >Заблокирован?</th><td className=\"user__cell\" >{verbalizeBoolean(isBanned)}</td></tr> {/* id=\"isBanned\"  */}\r\n                  <tr ><th className=\"user__row-header\" >Удалил аккаунт?</th><td className=\"user__cell\" >{verbalizeBoolean(requestedDeletion)}</td></tr>\r\n                </Route>\r\n              </Switch>\r\n\r\n            </tbody>\r\n          </table>\r\n        </>\r\n      ) : (\r\n        <h2 className=\"user__headline user__headline_not-found\" >Пользователь не найден</h2>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport './UsersDashboard.scss';\r\nimport { categories } from '../../data/constants';\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { v4 as getUid } from 'uuid';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectUsersData } from '../../app/userDataSlice';\r\n\r\nexport function UsersDashboard() {\r\n  const usersData = useSelector(selectUsersData)\r\n  const displayedCategoryId = useParams().id\r\n  const dataToRender = displayedCategoryId ? usersData.filter((item) => item.category.id === displayedCategoryId) : usersData\r\n\r\n  return (\r\n    <div className=\"dashboard\" >\r\n      <h3 className=\"dashboard__headline\" >{displayedCategoryId ? categories.find((item) => item.id === displayedCategoryId).caption : \"Пользователи\"}</h3>\r\n\r\n      <table className=\"dashboard__data\" >\r\n        <tbody >\r\n          <tr >\r\n            <th className=\"dashboard__row-header\" >Имя</th>\r\n            <th className=\"dashboard__row-header\" >Фамилия</th>\r\n            <th className=\"dashboard__row-header\" >Пол</th>\r\n            <th className=\"dashboard__row-header\" >Уровень доступа</th>\r\n            <th className=\"dashboard__row-header\" >Эл. почта</th>\r\n            <th className=\"dashboard__row-header\" >Телефон</th>\r\n          </tr>\r\n\r\n          {dataToRender.map((item) => (\r\n            <tr key={getUid()} >\r\n              <td className=\"dashboard__cell\" ><Link className=\"link-unstyling\" to={`/users/${item.id}`} >{item.firstName}</Link></td>\r\n              <td className=\"dashboard__cell\" ><Link className=\"link-unstyling\" to={`/users/${item.id}`} >{item.lastName}</Link></td>\r\n              <td className=\"dashboard__cell\" ><Link className=\"link-unstyling\" to={`/users/${item.id}`} >{item.gender}</Link></td>\r\n              <td className=\"dashboard__cell\" ><Link className=\"link-unstyling\" to={`/users/${item.id}`} >{item.category.caption}</Link></td>\r\n              <td className=\"dashboard__cell\" ><Link className=\"link-unstyling\" to={`/users/${item.id}`} >{item.email}</Link></td>\r\n              <td className=\"dashboard__cell\" ><Link className=\"link-unstyling\" to={`/users/${item.id}`} >{item.phone}</Link></td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Route, Switch, NavLink } from \"react-router-dom\";\r\nimport { v4 as getUid } from 'uuid';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setUsersData, selectUsersData } from './app/userDataSlice';\r\n\r\nimport './App.scss';\r\nimport { User } from './components/User/User';\r\nimport { UsersDashboard } from './components/UsersDashboard/UsersDashboard';\r\nimport { categories } from './data/constants';\r\nimport { download } from './utils';\r\n\r\nimport data from './data/data.json';\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch()\r\n  const usersData = useSelector(selectUsersData)\r\n\r\n  function handleUpload({ target }) {\r\n    const file = target.files[0]\r\n    const fileReader = new FileReader()\r\n    fileReader.onload = (e) => {\r\n      dispatch(setUsersData(JSON.parse(e.target.result)))\r\n    }\r\n    fileReader.readAsText(file);\r\n  }\r\n\r\n  function handleDownloadClick() {\r\n    download(JSON.stringify(usersData), \"users-data.json\")\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(setUsersData(data))\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <nav className=\"app__menu\" >\r\n        <ul className=\"app__tree list-unstyling\" >\r\n          <li className=\"app__tree-item\" key={getUid()} >\r\n            <NavLink\r\n              className=\"app__tree-link link-unstyling\"\r\n              exact to=\"/\"\r\n              activeClassName=\"app__tree-link_active\"\r\n            >\r\n              Главная\r\n            </NavLink>\r\n          </li>\r\n\r\n          <li className=\"app__tree-item\" key={getUid()} >\r\n            <NavLink\r\n              className=\"app__tree-link link-unstyling\"\r\n              exact to=\"/dashboard\"\r\n              activeClassName=\"app__tree-link_active\"\r\n            >\r\n              Все пользователи\r\n            </NavLink>\r\n          </li>\r\n\r\n          {categories.map((category) => (\r\n            <li className=\"app__tree-item\" key={getUid()} >\r\n              <NavLink\r\n                className=\"app__tree-link link-unstyling\"\r\n                to={`/dashboard/${category.id}`}\r\n                activeClassName=\"app__tree-link_active\"\r\n              >\r\n                {category.caption}\r\n              </NavLink>\r\n\r\n              <ul className=\"app__tree app__tree_level_2 list-unstyling\" >\r\n                {usersData.filter((user) => user.category.id === category.id).map((item) => (\r\n                  <li className=\"app__tree-item\" key={getUid()} >\r\n                    <NavLink\r\n                      className=\"app__tree-link link-unstyling\"\r\n                      to={`/users/${item.id}`}\r\n                      activeClassName=\"app__tree-link_active\"\r\n                    >\r\n                      {item.firstName} {item.lastName}\r\n                    </NavLink>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </nav>\r\n\r\n      <Switch>\r\n        <Route exact path='/' >\r\n          <section className=\"home\" >\r\n            <h2 className=\"home__headline\" >Управление данными пользователей</h2>\r\n            <div className=\"home__controls\" >\r\n              <label className=\"button button_label\" htmlFor=\"upload-input\" >\r\n                Загрузить\r\n\r\n                <input type=\"file\" id=\"upload-input\" hidden onChange={handleUpload} />\r\n              </label>\r\n\r\n              <button className=\"button\" type=\"button\" onClick={handleDownloadClick} >Скачать</button>\r\n            </div>\r\n          </section>\r\n        </Route>\r\n\r\n        <Route path='/users/:id' ><User /></Route>\r\n\r\n        <Route path='/dashboard/:id?' ><UsersDashboard /></Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport userDataReducer from './userDataSlice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    usersData: userDataReducer,\r\n  },\r\n});\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport { store } from './app/store';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}